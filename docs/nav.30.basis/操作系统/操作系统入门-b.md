---
title: 操作系统入门-2
time:  2019-11-28
author: wsm
mail: 1030057982@qq.com
github: https://github.com/Geronimomiao/advance
---

## 进程间的同步
****
* 引子
	* 生产者 消费者 问题
	* 哲学家进餐问题

* 进程间的同步
	* 使得并发的多个进程之间可以有效使用资源和相互合作
	* 对竞争资源在多进程间进行使用次序的协调

* 临界资源
	* 临界资源指的一般是作为共享资源却无法同时被多个线程共同访问的共享资源 当有进程在使用临界资源时 其他进程必须依据操作系统系统的同步机制等待占用进程释放该共享资源才可重新竞争使用共享资源

* 原则
	* 空闲让进 资源无占用 允许使用
	* 忙则等待 资源有占用 请求进程等待
	* 有限等待 保证有限等待时间能够使用资源
	* 让权等待 等待时 进程让出 CPU

* 同步方法
	* 消息队列
	* 共享存储
	* 信号量

## 线程同步
****
* 引子
	* 生产者-消费者问题  哲学家问题
* 同步方法
	* 互斥量
	* 读写锁
	* 自旋锁
	* 条件变量

## 进程类型
****
* 前台进程
	* 具有终端 可以和用户交互的进程  
* 后台进程
	* 没有占用终端的就是后台进程
	* 后台程序基本不用和用户交互 优先级比前台进程低 
* 守护进程  
	* 特殊的后台进程
	* 很多守护进程在系统引导时启动 一直运行到系统关闭
		* crond
		* sshd
		* httpd
		* mysqld ...


## 进程标记
****
* 进程ID是 进程唯一标记 每个进程拥有不同ID
* 进程ID表现为一个非负整数 最大值由操作系统限定
![enter description here](https://img.wsmpage.cn/learning/2019-11-29/1574995178674.png)
> ID 为 0 进程  idle 进程 是系统创建第一个进程
> ID 为 1 进程是 init 进程 是 0 号进程的 子进程 完成系统初始化
> init 进程是所有用户进程的祖先进程

![enter description here](https://img.wsmpage.cn/learning/2019-11-29/1574995371519.png)

## 进程调度
****
* 通过计算机决策 决定哪个就绪进程可以获得CPU使用权
	* 保留旧进程运行信息 请出新进程
	* 选择新进程 准备运行环境CPU
* 调度机制
	* 就绪队列排队机制
	* 选择运行进程委派机制
	* 新老进程上下文切换机制
![enter description here](https://img.wsmpage.cn/learning/2019-11-29/1574997112950.png)

![enter description here](https://img.wsmpage.cn/learning/2019-11-29/1574997090439.png)
* 调度算法
	* 先来先服务调度算法
	* 短进程优先调度算法 
		* 选择就绪队列中 估计运行时间最短的进程 
		* 不利于长作业进程的执行
	* 高优先权优先调度算法
		* 优先选择权重高的进程
		* 使紧迫的任务可以优先处理 
	* 时间片轮转调度算法   
		* 按先来先服务的原则排列就绪进程
		* 每次从队头取出一个待执行进程 分配一个时间片
		* 相对公平的调度算法 但不能保证及时响应用户 

* 调度方式
	* 非抢占式调度
		* 处理器一旦分配给某个进程 就让该进程一直使用下去
		* 调度程序不以任何原因抢占正在被使用的处理器
		* 直到工作完成 或 IO 阻塞才会让出处理器 
	* 抢占式调度 
		* 运行程序以一定策略暂停当前运行的进程
		* 保存好旧进程的上下文信息 分配处理器给新进程 

![enter description here](https://img.wsmpage.cn/learning/2019-11-29/1574997166998.png)